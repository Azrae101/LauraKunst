<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art Gallery Virtual Museum</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Raleway:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Raleway', sans-serif;
            background: #0c0c0c;
            color: #f5f5f5;
            overflow: hidden;
            height: 100vh;
        }

        .container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        /* Intro Screen */
        #intro-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(10, 10, 30, 0.95), rgba(20, 20, 50, 0.9)), 
                        url('https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            transition: opacity 1.5s ease;
        }

        .intro-content {
            max-width: 800px;
            text-align: center;
            padding: 2rem;
            background: rgba(20, 20, 40, 0.8);
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        h1 {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            color: #f5e6c8;
            margin-bottom: 1rem;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .artist-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0;
        }

        .artist-photo {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid #f5e6c8;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .artist-description {
            flex: 1;
            text-align: left;
            line-height: 1.6;
            font-size: 1.1rem;
            max-width: 400px;
        }

        .start-btn {
            background: linear-gradient(to right, #a67c52, #8b5a2b);
            color: #f5e6c8;
            border: none;
            padding: 1rem 3rem;
            font-size: 1.3rem;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 2rem;
            font-family: 'Cinzel', serif;
            letter-spacing: 2px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        
        .start-btn:hover {
            box-shadow: 0 7px 20px rgba(0, 0, 0, 0.4);
            transform: translateY(-2px);
        }

        /* Museum Container */
        #museum-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            overflow: hidden;
        }

        /* 3D Museum */
        #museum-scene {
            width: 100%;
            height: 100%;
        }

        /* Controls */
        .controls {
            position: absolute;
            bottom: 30px;
            left: 0;
            width: 100%;
            text-align: center;
            z-index: 10;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-top: 1px solid rgba(255, 215, 0, 0.3);
        }

        .controls p {
            margin: 5px 0;
            font-size: 0.9rem;
            color: #d4af37;
        }

        /* Painting Viewer */
        #painting-viewer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 50;
            padding: 2rem;
        }

        .painting-container {
            display: flex;
            max-width: 1200px;
            width: 100%;
            height: 80%;
            gap: 2rem;
            align-items: center;
        }

        .painting-image {
            flex: 1;
            max-width: 60%;
            height: 100%;
            background-color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            border: 5px solid #f5e6c8;
        }

        .painting-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .painting-details {
            flex: 1;
            max-width: 40%;
            height: 100%;
            overflow-y: auto;
            padding: 2rem;
            background: rgba(40, 40, 60, 0.8);
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .painting-title {
            font-family: 'Cinzel', serif;
            font-size: 2.2rem;
            color: #f5e6c8;
            margin-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 215, 0, 0.5);
            padding-bottom: 0.5rem;
        }

        .painting-description {
            line-height: 1.7;
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .painting-meta {
            font-style: italic;
            color: #d4af37;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 215, 0, 0.3);
        }

        .close-viewer {
            position: absolute;
            top: 30px;
            right: 30px;
            background: rgba(0, 0, 0, 0.7);
            color: #f5e6c8;
            border: 1px solid rgba(255, 215, 0, 0.5);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Navigation Arrows */
        .nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: #f5e6c8;
            border: 1px solid rgba(255, 215, 0, 0.5);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 20;
        }

        .nav-arrow.left {
            left: 20px;
        }

        .nav-arrow.right {
            right: 20px;
        }

        /* Museum Gallery */
        #museum-scene {
            width: 100%;
            height: 100%;
            overflow-x: auto;
            overflow-y: hidden;
            scroll-behavior: smooth;
            background: linear-gradient(180deg, #3a3028 0%, #2a2318 30%, #1a1510 100%);
            position: relative;
            perspective: 1000px;
            perspective-origin: 50% 60%;
        }

        #museum-scene::-webkit-scrollbar {
            height: 10px;
        }

        #museum-scene::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
        }

        #museum-scene::-webkit-scrollbar-thumb {
            background: #8b5a2b;
            border-radius: 5px;
        }

        .gallery-wrapper {
            display: flex;
            height: 100%;
            padding: 0 10%;
            padding-right: 10%;
            align-items: center;
            gap: 8%;
            min-width: max-content;
            background: 
                repeating-linear-gradient(
                    90deg,
                    #2a2318 0px,
                    #2a2318 2px,
                    #1f1810 2px,
                    #1f1810 4px
                ),
                linear-gradient(180deg, #2a2318 0%, #3a3028 50%, #2a2318 100%);
            background-size: 120px 100%, 100% 100%;
            transform-style: preserve-3d;
            transform: rotateX(5deg) translateY(-8%);
        }
        
        /* 3D Floor */
        .gallery-wrapper::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: -50%;
            right: -50%;
            height: 45%;
            background: 
                repeating-linear-gradient(
                    90deg,
                    #5a4f45 0px,
                    #5a4f45 100px,
                    #4d4238 100px,
                    #4d4238 102px
                ),
                repeating-linear-gradient(
                    0deg,
                    #5a4f45 0px,
                    #5a4f45 100px,
                    #4d4238 100px,
                    #4d4238 102px
                ),
                linear-gradient(180deg, #5a4f45 0%, #3a3028 100%);
            background-size: 100px 100%, 100px 100%, 100% 100%;
            transform: rotateX(70deg) translateY(25%) translateZ(-150px);
            transform-origin: bottom;
            box-shadow: 
                0 -30px 60px rgba(0, 0, 0, 0.7),
                inset 0 5px 20px rgba(0, 0, 0, 0.5);
            pointer-events: none;
            opacity: 0.95;
        }
        
        .gallery-wrapper::before {
            content: '';
            position: absolute;
            top: 0;
            left: -50%;
            right: -50%;
            bottom: 0;
            background: 
                repeating-linear-gradient(
                    0deg,
                    transparent 0%,
                    rgba(0, 0, 0, 0.3) 50%,
                    transparent 100%
                ),
                radial-gradient(ellipse at 30% 50%, rgba(139, 90, 43, 0.15) 0%, transparent 60%),
                radial-gradient(ellipse at 70% 50%, rgba(139, 90, 43, 0.15) 0%, transparent 60%);
            background-size: 100% 150px, 100% 100%, 100% 100%;
            pointer-events: none;
        }

        .painting-section {
            flex: 0 0 auto;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            position: relative;
            gap: 30px;
        }
        
        .painting-section.artist-section {
            gap: 40px;
        }
        
        .painting-section.artist-section .painting {
            width: 400px;
            height: 500px;
            flex-shrink: 0;
            overflow: visible;
        }
        
        .painting-section.artist-section .painting img {
            object-fit: cover;
        }
        
        .artist-bio {
            max-width: 400px;
            background: rgba(20, 20, 40, 0.85);
            padding: 30px;
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            color: #f5e6c8;
            line-height: 1.7;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .artist-bio h2 {
            font-family: 'Cinzel', serif;
            color: #d4af37;
            margin-bottom: 15px;
            font-size: 1.6rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .artist-bio p {
            margin-bottom: 12px;
            font-size: 0.95rem;
        }

        .painting {
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: visible;
            width: 500px;
            height: 650px;
            position: relative;
            background: 
                radial-gradient(ellipse at center, #8b5a2b 0%, #5a3a1e 100%);
            padding: 50px;
            box-sizing: border-box;
            box-shadow: 
                0 40px 100px rgba(0, 0, 0, 0.9),
                inset 0 0 0 1px rgba(212, 175, 55, 0.3);
            border-radius: 15px;
            transition: all 0.4s ease;
        }

        .painting:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 
                0 60px 120px rgba(0, 0, 0, 1),
                0 0 30px rgba(212, 175, 55, 0.3);
        }

        .painting-inner {
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
            box-shadow: 
                inset 0 0 40px rgba(0, 0, 0, 0.8),
                0 0 0 2px rgba(90, 60, 30, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Wood grain effect for frame */
        .painting::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(90deg, 
                    rgba(90, 60, 30, 0.1) 0%, 
                    rgba(212, 175, 55, 0.2) 50%, 
                    rgba(90, 60, 30, 0.1) 100%),
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(60, 40, 20, 0.3) 2px,
                    rgba(60, 40, 20, 0.3) 4px
                );
            border-radius: 15px;
            pointer-events: none;
        }

        .painting img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            position: relative;
            z-index: 1;
        }

        .painting-label {
            margin-top: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: #f5e6c8;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 1.2rem;
            font-family: 'Cinzel', serif;
            border: 1px solid rgba(212, 175, 55, 0.3);
            letter-spacing: 1px;
        }
        
        .painting-info {
            max-width: 350px;
            background: rgba(20, 20, 40, 0.85);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            color: #f5e6c8;
            line-height: 1.6;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .painting-info .title {
            font-family: 'Cinzel', serif;
            color: #d4af37;
            font-size: 1.4rem;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .painting-info .year {
            color: #d4af37;
            font-size: 0.9rem;
            margin-bottom: 15px;
            font-style: italic;
        }
        
        .painting-info .description {
            font-size: 0.95rem;
            line-height: 1.7;
            margin-bottom: 15px;
        }
        
        .painting-info .meta {
            font-size: 0.85rem;
            color: #b8a580;
            padding-top: 10px;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
        }

        /* Gallery Navigation Buttons */
        .gallery-nav {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(139, 90, 43, 0.9);
            color: #f5e6c8;
            border: 2px solid rgba(212, 175, 55, 0.5);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.8rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 15;
        }

        .gallery-nav.left {
            left: 30px;
        }

        .gallery-nav.right {
            right: 30px;
        }
        
        /* Shadowy Figures */
        .shadow-figure {
            position: absolute;
            bottom: -180px;
            width: auto;
            height: 550px;
            pointer-events: none;
            z-index: 2;
            opacity: 0.9;
            filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.9));
            display: flex;
            align-items: flex-end;
        }
        
        .shadow-figure img {
            height: 150%;
            width: auto;
            object-fit: contain;
            object-position: bottom;
            display: block;
        }
        
        .shadow-figure.left {
            left: -350px;
        }
        
        .shadow-figure.right {
            right: -350px;
        }
        
        .shadow-figure.small {
            height: 480px;
        }
        
        /* first figure (p1): standing woman */
        .shadow-figure.p1 {
            height: 780px;
            left: 400px;
            bottom: -425px;
        }

        /* second figure (p2): standing man */
        .shadow-figure.p2 {
            height: 460px;
            left: 820px;
            bottom: -190px;
        }

        /* third figure (p3): walking man */
        .shadow-figure.p3 {
            height: 490px;
            right: -350px;
            bottom: -290px;
        }
        
        /* fourth figure (p4): picture man */
        .shadow-figure.p4 {
            height: 480px;
            left: -100px;
            bottom: -225px;
        }
        
        /* fifth figure (p5): picture girl */
        .shadow-figure.p5 {
            height: 420px;
            left: -200px;
            bottom: -200px;
        }
        
        .shadow-figure.p5 img {
            transform: scaleX(-1);
        }
        
        /* sixth figure (p6): new person at Urban Symphony */
        .shadow-figure.p6 {
            height: 420px;
            left: -200px;
            bottom: -190px;
        }
        
        /* Museum Ending Section */
        .museum-ending {
            flex: 0 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 3rem;
            text-align: center;
            margin-right: 5%;
        }
        
        .ending-content {
            max-width: 600px;
            background: rgba(20, 20, 40, 0.85);
            padding: 3rem;
            border-radius: 15px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
        }
        
        .ending-content h2 {
            font-family: 'Cinzel', serif;
            color: #d4af37;
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .ending-content p {
            color: #f5e6c8;
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 1rem;
        }

        /* Loading Screen */
        #loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0c0c0c;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 200;
            flex-direction: column;
        }

        .spinner {
            width: 70px;
            height: 70px;
            border: 5px solid rgba(255, 215, 0, 0.3);
            border-top: 5px solid #d4af37;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .painting-container {
                flex-direction: column;
                height: 90%;
            }
            
            .painting-image, .painting-details {
                max-width: 100%;
                max-height: 50%;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .artist-info {
                flex-direction: column;
                text-align: center;
            }
            
            .artist-description {
                text-align: center;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .painting-title {
                font-size: 1.8rem;
            }
            
            .nav-arrow {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Loading Screen -->
        <div id="loading">
            <div class="spinner"></div>
            <p>Loading the museum experience...</p>
        </div>

        <!-- Intro Screen -->
        <div id="intro-screen">
            <div class="intro-content">
                <h1>Virtual Art Gallery</h1>
                <div class="artist-info">
                    <img src="laura.jpeg" alt="Artist Photo" class="artist-photo">
                    <div class="artist-description">
                        <p>Welcome to the virtual gallery of <strong>Laura Kruuse</strong>, a contemporary visual artist whose work explores the intersection of nature and human emotion. With a career spanning over 15 years, Laura's paintings have been exhibited in galleries across Europe and North America.</p>
                        <br>
                        <p>Her latest collection, "Ethereal Landscapes," captures the transient beauty of natural environments through a unique blend of traditional techniques and digital experimentation. Each piece invites viewers to contemplate their relationship with the natural world.</p>
                    </div>
                </div>
                <button class="start-btn" id="start-tour">
                    <i class="fas fa-door-open"></i> Enter the Museum
                </button>
            </div>
        </div>

        <!-- Museum Scene -->
        <div id="museum-container">
            <div id="museum-scene"></div>
            
            <!-- Controls Info -->
            <div class="controls">
                <p><i class="fas fa-chevron-left"></i> <i class="fas fa-chevron-right"></i> Use <strong>Arrow Buttons</strong> or <strong>Scroll</strong> to navigate</p>
                <p><i class="fas fa-mouse-pointer"></i> <strong>Click on paintings</strong> to view details | <strong>ESC</strong> to exit painting view</p>
            </div>
            <!-- Navigation Arrows for Painting Viewer -->
            <div class="nav-arrow left" id="prev-painting" style="display: none;">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="nav-arrow right" id="next-painting" style="display: none;">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>

        <!-- Painting Viewer -->
        <div id="painting-viewer">
            <div class="painting-container">
                <div class="painting-image">
                    <img id="viewer-image" src="" alt="Painting">
                </div>
                <div class="painting-details">
                    <h2 class="painting-title" id="viewer-title">Painting Title</h2>
                    <div class="painting-description" id="viewer-description">
                        Painting description will appear here.
                    </div>
                    <div class="painting-meta" id="viewer-meta">
                        <p><strong>Medium:</strong> <span id="viewer-medium">Oil on canvas</span></p>
                        <p><strong>Dimensions:</strong> <span id="viewer-dimensions">24" x 36"</span></p>
                        <p><strong>Year:</strong> <span id="viewer-year">2023</span></p>
                    </div>
                </div>
            </div>
            <div class="close-viewer" id="close-viewer">
                <i class="fas fa-times"></i>
            </div>
        </div>
    </div>

    <script>
        // Wait for page to load
        document.addEventListener('DOMContentLoaded', function() {
            const loadingScreen = document.getElementById('loading');
            const introScreen = document.getElementById('intro-screen');
            const museumContainer = document.getElementById('museum-container');
            const startButton = document.getElementById('start-tour');
            const paintingViewer = document.getElementById('painting-viewer');
            const closeViewerButton = document.getElementById('close-viewer');
            const prevPaintingButton = document.getElementById('prev-painting');
            const nextPaintingButton = document.getElementById('next-painting');
            
            // Hide loading screen after a short delay
            setTimeout(() => {
                loadingScreen.style.display = 'none';
                introScreen.style.opacity = '1';
            }, 1500);
            
            // Start the tour
            startButton.addEventListener('click', function() {
                introScreen.style.opacity = '0';
                setTimeout(() => {
                    introScreen.style.display = 'none';
                    museumContainer.style.display = 'block';
                    initializeMuseum();
                }, 1500);
            });
            
            // Close painting viewer
            closeViewerButton.addEventListener('click', closePaintingViewer);
            
            // Close with ESC key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closePaintingViewer();
                }
            });
            
            // Sample painting data (replace with your friend's paintings)
            const paintings = [
                {
                    id: 0,
                    isArtist: true,
                    title: "Laura Kruuse",
                    artistName: "Laura Kruuse",
                    description: "Welcome to the virtual gallery of Laura Kruuse, a contemporary visual artist whose work explores the intersection of nature and human emotion. With a career spanning over 15 years, Laura's paintings have been exhibited in galleries across Europe and North America. Her latest collection, 'Ethereal Landscapes,' captures the transient beauty of natural environments through a unique blend of traditional techniques and digital experimentation.",
                    medium: "Contemporary Visual Artist",
                    dimensions: "15+ Years Experience",
                    year: "Active Since 2011",
                    placeholder: "laura.jpeg"
                },
                {
                    id: 1,
                    title: "Ethereal Dawn",
                    description: "This piece captures the first light of dawn breaking through a misty forest. The artist used a unique technique of layering thin glazes to create the luminous quality of the morning light. The composition draws the viewer's eye along the path, inviting them to journey into the unknown.",
                    medium: "Oil on canvas",
                    dimensions: '24" x 36"',
                    year: "2023",
                    placeholder: "https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&auto=format&fit=crop&w=958&q=80"
                },
                {
                    id: 2,
                    title: "Whispers of the Sea",
                    description: "Inspired by the rugged coastlines of the Pacific Northwest, this painting explores the dynamic relationship between ocean and shore. The textured surface was created using a palette knife, giving physical depth to the crashing waves. The cool blues and greens contrast with the warm tones of the rocky shore.",
                    medium: "Acrylic with mixed media",
                    dimensions: '30" x 40"',
                    year: "2022",
                    placeholder: "https://images.unsplash.com/photo-1541701494587-cb58502866ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=1050&q=80"
                },
                {
                    id: 3,
                    title: "Urban Symphony",
                    description: "A vibrant depiction of city life at twilight, where artificial lights begin to compete with the fading natural light. The artist captured the energy of the urban environment through bold brushstrokes and a rich color palette. Reflections in puddles and windows add depth to the composition.",
                    medium: "Oil and gold leaf on canvas",
                    dimensions: '36" x 48"',
                    year: "2023",
                    placeholder: "https://images.unsplash.com/photo-1563089145-599997674d42?ixlib=rb-4.0.3&auto=format&fit=crop&w=1050&q=80"
                },
                {
                    id: 4,
                    title: "Desert Bloom",
                    description: "This painting celebrates the unexpected beauty that emerges in arid landscapes after rare rainfall. The delicate flowers contrast with the harsh, textured background, symbolizing resilience and hope. The artist spent weeks in the Arizona desert studying the phenomenon before creating this work.",
                    medium: "Watercolor and ink",
                    dimensions: '22" x 30"',
                    year: "2022",
                    placeholder: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=1050&q=80"
                }
            ];
            
            let currentPaintingIndex = 0;
            
            // Initialize the museum
            function initializeMuseum() {
                createMuseum();
                setupMovement();
                setupPaintingInteractions();
            }
            
            // Create the horizontal scrolling gallery
            function createMuseum() {
                const scene = document.getElementById('museum-scene');
                
                // Clear any existing content
                scene.innerHTML = '';
                
                // Create gallery wrapper
                const galleryWrapper = document.createElement('div');
                galleryWrapper.className = 'gallery-wrapper';
                scene.appendChild(galleryWrapper);
                
                // Add gallery navigation buttons
                addGalleryNavigation();
                
                // Create paintings
                createPaintings(galleryWrapper);
            }
            
            // Add gallery navigation arrows
            function addGalleryNavigation() {
                const scene = document.getElementById('museum-scene');
                
                const leftNav = document.createElement('div');
                leftNav.className = 'gallery-nav left';
                leftNav.innerHTML = '<i class="fas fa-chevron-left"></i>';
                leftNav.addEventListener('click', () => {
                    scene.scrollBy({ left: -window.innerWidth * 0.8, behavior: 'smooth' });
                });
                museumContainer.appendChild(leftNav);
                
                const rightNav = document.createElement('div');
                rightNav.className = 'gallery-nav right';
                rightNav.innerHTML = '<i class="fas fa-chevron-right"></i>';
                rightNav.addEventListener('click', () => {
                    scene.scrollBy({ left: window.innerWidth * 0.8, behavior: 'smooth' });
                });
                museumContainer.appendChild(rightNav);
            }
            
            // Create painting elements in horizontal gallery
            function createPaintings(galleryWrapper) {
                paintings.forEach((painting, index) => {
                    const section = document.createElement('div');
                    section.className = 'painting-section';
                    
                    // Check if this is the artist section
                    if (painting.isArtist) {
                        section.classList.add('artist-section');
                        
                        const paintingEl = document.createElement('div');
                        paintingEl.className = 'painting';
                        paintingEl.dataset.id = painting.id;
                        paintingEl.dataset.index = index;
                        
                        const paintingInner = document.createElement('div');
                        paintingInner.className = 'painting-inner';
                        
                        const img = document.createElement('img');
                        img.src = painting.placeholder;
                        img.alt = painting.title;
                        paintingInner.appendChild(img);
                        paintingEl.appendChild(paintingInner);
                        
                        const bio = document.createElement('div');
                        bio.className = 'artist-bio';
                        bio.innerHTML = `
                            <h2>${painting.artistName}</h2>
                            <p><strong>About the Artist</strong></p>
                            <p>${painting.description}</p>
                        `;
                        
                        section.appendChild(paintingEl);
                        section.appendChild(bio);
                        
                        // Add p3 (walking man) after the artist section
                        const p3Figure = document.createElement('div');
                        p3Figure.className = 'shadow-figure p3';
                        const p3Img = document.createElement('img');
                        p3Img.src = 'p3.png';
                        p3Img.alt = 'Museum visitor';
                        p3Figure.appendChild(p3Img);
                        section.appendChild(p3Figure);
                    } else {
                        // Regular painting
                        const paintingEl = document.createElement('div');
                        paintingEl.className = 'painting';
                        paintingEl.dataset.id = painting.id;
                        paintingEl.dataset.index = index;
                        
                        const paintingInner = document.createElement('div');
                        paintingInner.className = 'painting-inner';
                        
                        const img = document.createElement('img');
                        img.src = painting.placeholder;
                        img.alt = painting.title;
                        paintingInner.appendChild(img);
                        paintingEl.appendChild(paintingInner);
                        
                        // Add painting info card to the right
                        const infoCard = document.createElement('div');
                        infoCard.className = 'painting-info';
                        infoCard.innerHTML = `
                            <div class="title">${painting.title}</div>
                            <div class="year">${painting.year}</div>
                            <div class="description">${painting.description}</div>
                            <div class="meta">
                                <strong>Medium:</strong> ${painting.medium}<br>
                                <strong>Dimensions:</strong> ${painting.dimensions}
                            </div>
                        `;
                        
                        // Click painting to open full viewer
                        paintingEl.addEventListener('click', (e) => {
                            e.stopPropagation();
                            openPaintingViewer(index);
                        });
                        
                        section.appendChild(paintingEl);
                        section.appendChild(infoCard);
                        
                        // Add people viewing the painting (skip artist section)
                        const peopleImages = ['p1.png', 'p2.png', 'p3.png', 'p4.png', 'p5.png', 'p6.png'];
                        
                        // Add p5 BEFORE painting for "Whispers of the Sea"
                        if (painting.title === "Whispers of the Sea") {
                            const p5Figure = document.createElement('div');
                            p5Figure.className = 'shadow-figure p5';
                            const p5Img = document.createElement('img');
                            p5Img.src = 'p5.png';
                            p5Img.alt = 'Museum visitor';
                            p5Figure.appendChild(p5Img);
                            section.insertBefore(p5Figure, paintingEl);
                        }
                        
                        // Map specific figures to specific paintings (added AFTER painting)
                        const figureMapping = {
                            "Ethereal Dawn": ['p1'],
                            "Whispers of the Sea": ['p2'],
                            "Urban Symphony": ['p6'],  // New person p6
                            "Desert Bloom": ['p4']
                        };
                        
                        const figures = figureMapping[painting.title] || [];
                        
                        figures.forEach(figureClass => {
                            const figure = document.createElement('div');
                            figure.className = 'shadow-figure';
                            figure.classList.add(figureClass);
                            
                            const figureImageIndex = parseInt(figureClass.substring(1)) - 1;
                            const personImg = document.createElement('img');
                            personImg.src = peopleImages[figureImageIndex];
                            personImg.alt = 'Museum visitor';
                            figure.appendChild(personImg);
                            section.appendChild(figure);
                        });
                    }
                    
                    galleryWrapper.appendChild(section);
                });
                
                // Add ending section
                const endingSection = document.createElement('div');
                endingSection.className = 'museum-ending';
                endingSection.innerHTML = `
                    <div class="ending-content">
                        <h2>Thank You</h2>
                        <p>Thank you for visiting this virtual gallery and experiencing the artworks of Laura Kruuse.</p>
                        <p>We hope these pieces inspired you and offered a moment of reflection on the beauty of nature and human emotion.</p>
                        <p style="margin-top: 2rem; font-style: italic; opacity: 0.8;">~ End of Exhibition ~</p>
                    </div>
                `;
                galleryWrapper.appendChild(endingSection);
            }
            
            // Setup horizontal scroll with arrow keys and vertical scroll
            function setupMovement() {
                const scene = document.getElementById('museum-scene');
                
                // Allow arrow keys to scroll horizontally
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft') {
                        scene.scrollBy({ left: -window.innerWidth * 0.8, behavior: 'smooth' });
                        e.preventDefault();
                    } else if (e.key === 'ArrowRight') {
                        scene.scrollBy({ left: window.innerWidth * 0.8, behavior: 'smooth' });
                        e.preventDefault();
                    }
                });
                
                // Convert vertical scroll to horizontal scroll
                scene.addEventListener('wheel', (e) => {
                    if (e.deltaY !== 0) {
                        e.preventDefault();
                        scene.scrollBy({ left: e.deltaY * 2, behavior: 'auto' });
                    }
                }, { passive: false });
            }
            
            // Setup painting click interactions
            function setupPaintingInteractions() {
                // Interactions are now set up in createPaintings function
            }
            
            // Open painting viewer with selected painting
            function openPaintingViewer(index) {
                const painting = paintings[index];
                
                // Update viewer content
                document.getElementById('viewer-title').textContent = painting.title;
                document.getElementById('viewer-description').textContent = painting.description;
                document.getElementById('viewer-medium').textContent = painting.medium;
                document.getElementById('viewer-dimensions').textContent = painting.dimensions;
                document.getElementById('viewer-year').textContent = painting.year;
                document.getElementById('viewer-image').src = painting.placeholder;
                document.getElementById('viewer-image').alt = painting.title;
                
                // Show viewer and navigation arrows
                paintingViewer.style.display = 'flex';
                prevPaintingButton.style.display = 'flex';
                nextPaintingButton.style.display = 'flex';
                
                // Update navigation arrows
                prevPaintingButton.style.display = index > 0 ? 'flex' : 'none';
                nextPaintingButton.style.display = index < paintings.length - 1 ? 'flex' : 'none';
                
                // Setup navigation between paintings
                prevPaintingButton.onclick = function() {
                    if (currentPaintingIndex > 0) {
                        currentPaintingIndex--;
                        openPaintingViewer(currentPaintingIndex);
                    }
                };
                
                nextPaintingButton.onclick = function() {
                    if (currentPaintingIndex < paintings.length - 1) {
                        currentPaintingIndex++;
                        openPaintingViewer(currentPaintingIndex);
                    }
                };
            }
            
            // Close painting viewer
            function closePaintingViewer() {
                paintingViewer.style.display = 'none';
                prevPaintingButton.style.display = 'none';
                nextPaintingButton.style.display = 'none';
            }
            
            // Initial setup
            setTimeout(() => {
                loadingScreen.style.display = 'none';
            }, 500);
        });
    </script>
</body>
</html>